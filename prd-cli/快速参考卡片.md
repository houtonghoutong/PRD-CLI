# PRD-CLI 工作流快速参考卡片

---

## 🚀 初始化项目流程

```bash
# 1. 初始化项目
prd init <项目名称>

# ⚠️ 必须按顺序执行：

# 2. 完善 P0_项目基本信息.md
# 文件位置：00_项目总览/P0_项目基本信息.md
# 填写内容：项目目标、干系人、约束条件

# 3. 创建 A0 基线文档
prd baseline create A0

# 4. 创建 A1 功能清单
prd baseline create A1

# 5. 创建 A2 反馈汇总（可选但建议）
prd baseline create A2

# 6. 创建 R0 基线审视
prd baseline create R0
```

---

## ✅ R0 创建前的 AI 检查清单

当你说"创建 R0"时，AI 必须：

### 1️⃣ 检查前置条件
- [ ] P0_项目基本信息.md 已完成
- [ ] A0_产品基础与范围说明.md 已创建
- [ ] A1_已上线功能与流程清单.md 已创建
- [ ] A2_存量反馈与数据汇总.md（可选）

### 2️⃣ 向你说明检查结果
```
AI: "✅ 前置条件检查：
     ✅ P0 - 已完成
     ✅ A0 - 已创建
     ✅ A1 - 已创建
     ⚠️ A2 - 未创建（可选）"
```

### 3️⃣ 解释 R0 的作用
```
AI: "R0 审视将：
     1. 系统性审视产品基线
     2. 梳理用户路径和问题
     3. 识别 CSF
     4. 给出基线稳定性判定"
```

### 4️⃣ 等待你确认
```
AI: "请问是否确认创建 R0？"
你: "确认"
```

### 5️⃣ 建议你执行命令（而非自动执行）
```
AI: "请执行：prd baseline create R0"
```

---

## 🚨 AI 行为红线

### AI 绝对禁止 ❌

1. ❌ 未检查前置条件就创建 R0
2. ❌ 未经确认就自动执行命令
3. ❌ 前置条件不满足还继续创建
4. ❌ 不说明作用就直接创建
5. ❌ 替你做决策（如优先级、范围等）

### AI 必须做到 ✅

1. ✅ 主动检查前置条件
2. ✅ 向你说明检查结果
3. ✅ 解释要做什么
4. ✅ 等待你明确确认
5. ✅ 建议命令而非自动执行

---

## 📋 文档填写原则

### AI 是"战略思维导师"，不是"速记员"

1. **以终为始**
   - 帮你明确真正的目标（不是手段）
   - 区分"要做什么"和"要达成什么结果"

2. **结构化拆解**
   - 用 MECE 原则引导你完整思考
   - 检查是否遗漏场景

3. **苏格拉底式提问**
   - 通过提问引导你思考
   - 不直接给答案

### 禁止行为

- ❌ 一次性生成完整文档
- ❌ 替你做判断（优先级、范围）
- ❌ 跳过确认直接写入

### 正确行为

- ✅ 分段确认后写入（每 1-3 项）
- ✅ 让你决定优先级和范围
- ✅ 每写入一部分都要确认

---

## 🔄 标准工作流程

### P0 → A 类 → R0 → B 类 → R1 → C 类 → R2

```
P0: 项目基本信息（必须先完成）
 ↓
A0: 产品基础与范围
 ↓
A1: 已上线功能清单
 ↓
A2: 存量反馈汇总（可选但建议）
 ↓
R0: 基线审视（必须检查 P0/A0/A1）
 ↓
B1: 需求规划草案
 ↓
B2: 规划拆解与范围界定
 ↓
R1: 规划审视（必须检查 B1/B2）
 ↓
B3: 规划冻结归档
 ↓
C0: 版本范围声明
 ↓
C1: 版本需求清单
 ↓
R2: 版本审视（必须检查 C0/C1）
 ↓
C3: 版本冻结归档
```

---

## 💡 核心原则

### PM 决策，AI 执行

| 环节 | AI 职责 | PM 职责 |
|-----|---------|---------|
| 文档填写 | 引导、结构化、检查 | 决策、确认 |
| 创建文档 | 检查前置条件、说明 | 确认、执行命令 |
| 审视评估 | 分析、矩阵、建议 | 判断、决定 |

### 标准流程：检查 → 说明 → 确认 → 执行

1. **检查**（AI 自动）：检查前置条件、完整性
2. **说明**（AI 主动）：向你说明检查结果、要做什么
3. **确认**（PM 决策）：你明确确认是否继续
4. **执行**（PM 操作）：你执行命令或做出决策

---

## 📞 快速诊断

### 如果 AI 自动执行了命令：

**提醒 AI**：
```
"AI，你刚才自动执行了命令，这违反了工作流规范。
 
 正确做法是：
 1. 检查前置条件
 2. 向我说明
 3. 等待我确认
 4. 建议命令（而非自动执行）
 
 请按照工作流重新执行。"
```

### 如果 AI 跳过了前置检查：

**提醒 AI**：
```
"AI，在创建 R0 之前，你需要先检查：
 - P0 是否完成
 - A0 是否创建
 - A1 是否创建
 - A2 是否需要
 
 请执行前置条件检查。"
```

### 如果 AI 一次性生成了完整文档：

**提醒 AI**：
```
"AI，你不应该一次性生成完整文档。
 
 正确做法是：
 1. 通过提问引导我思考
 2. 分段确认后写入（每 1-3 项）
 3. 让我做决策（不替我决定）
 
 请重新采用对话式协作模式。"
```

---

## ✅ B1/B2/C1 创建时的 AI 检查清单

### B1 创建后，AI 必须：

#### 1️⃣ 立即开始对话引导
```
AI: "✅ B1_需求规划草案.md 已创建。
     
     在填写 B1 之前，让我通过提问引导你思考。
     
     第一个问题：你期望这个规划达成什么结果？"
```

#### 2️⃣ 绝对禁止
- ❌ 未经对话就填充完整内容
- ❌ 假设或推测 PM 的意图
- ❌ 替 PM 决定"要做什么"或"不做什么"

#### 3️⃣ 必须做到
- ✅ 通过提问引导 PM 思考
- ✅ 分段确认后才写入（目标 → Gap → 不做 → ...）
- ✅ 让 PM 做所有决策

---

### B2 创建后，AI 必须：

#### 1️⃣ 立即开始需求拆解引导
```
AI: "✅ B2 已创建。
     
     让我们基于 B1 的目标，用 MECE 原则拆解需求。
     
     要达成 B1 的目标，需要哪几个维度的能力？"
```

#### 2️⃣ 绝对禁止
- ❌ 未经对话就列出需求项
- ❌ 替 PM 决定优先级（P0/P1/P2）
- ❌ 替 PM 决定首版范围

#### 3️⃣ 必须做到
- ✅ 引导 PM 用 MECE 原则拆解
- ✅ 让 PM 决定每个需求的优先级
- ✅ 构建决策矩阵辅助 PM 决策

---

### C1 创建后，AI 必须：

#### 1️⃣ 严格映射检查
```
AI: "✅ C1 已创建。
     
     首先，让我确认 B3 首版包含的需求项...
     
     [读取 B3 首版范围]
     
     确认 C1 将基于这些需求展开，不会新增。对吗？"
```

#### 2️⃣ 绝对禁止
- ❌ 未经对话就填充需求细节
- ❌ 省略或简化需求细节
- ❌ 新增 B3 范围外的需求

#### 3️⃣ 必须做到
- ✅ 逐项询问需求的 8 个维度
- ✅ 完整记录所有细节（背景/规则/边界/性能...）
- ✅ 分段确认后才写入

---

## 🎯 关键记忆点

1. **P0 是起点**：必须先完成，不能跳过
2. **R0 需要 A0/A1**：创建 R0 前必须检查
3. **AI 不自动执行**：关键命令都需要你确认
4. **分段确认写入**：不一次性生成完整文档
5. **PM 做决策**：优先级、范围都由你决定

---

**参考文档**：
- 完整工作流：`prd-document-filling.md`
- P0 填写指引：`prd-p0-project-info.md`
- R0 审视流程：`prd-r0-baseline-review.md`
- 修复报告：`PRD-CLI工作流修复总结报告.md`
