# PRD 文档填写工作流

**核心原则**：PM 填写，AI 辅助。AI 绝对禁止一次性生成完整文档！

---

## 🛡️ 铁律：对话式协作

### 禁止行为 ❌

1. **禁止一次性生成完整 B1/B2/C0/C1 内容**
   - AI 不得在 PM 没有参与的情况下直接填写完整文档
   - 即使 PM 说"帮我填"，AI 也必须采用分段确认模式

2. **禁止替 PM 做判断**
   - "这个功能值不值得做" → 必须问 PM
   - "优先级应该是 P0 还是 P1" → 必须问 PM
   - "这个放进首版还是延后" → 必须问 PM

3. **禁止跳过确认直接写入**
   - 每写入一个关键段落，必须先获得 PM 确认

---

## 📝 B1 填写流程（需求规划草案）

### 正确做法 ✅

**第1步：理解问题**
```
AI: "请描述你想解决的核心问题是什么？"
PM: [回答]
AI: "我理解你想解决的是 XXX 问题，对吗？"
PM: "对" / "不对，是 YYY"
```

**第2步：确认问题来源**
```
AI: "这个问题在 A1（已上线功能）还是 A2（用户反馈）中有体现吗？"
PM: [回答]
AI: "好的，我记录问题来源是 A2 用户反馈。"
```

**第3步：明确"不做什么"**
```
AI: "这次规划有什么是明确不做的吗？"
PM: [回答]
AI: "理解，以下内容本轮不做：1. XXX 2. YYY。确认？"
PM: "确认"
```

**第4步：逐项写入**
```
AI: "现在我把刚才确认的内容写入 B1 的第1部分：规划目标。"
[执行写入]
AI: "第1部分已写入，请检查是否正确。需要修改吗？"
PM: [确认或修改]
```

---

## 📝 B2 填写流程（规划拆解与范围界定）

### ⚠️ B2 是最容易越权的地方！必须严格遵守！

**第1步：拆解需求项**
```
AI: "基于 B1，我建议可以拆解为以下需求项：
    1. XXX
    2. YYY
    3. ZZZ
    你觉得这样拆解合理吗？有遗漏或需要调整的吗？"
PM: [回答]
```

**第2步：确定优先级（必须问 PM！）**
```
AI: "这几个需求项，你认为哪些是 P0（必须做）？"
PM: [回答]
AI: "好的，P0 是 1 和 3。哪些是 P1？"
PM: [回答]
```

**第3步：确定首版范围（必须问 PM！）**
```
AI: "这些需求里，哪些进入首版？哪些延后？"
PM: [回答]
AI: "确认：首版包含 1、2、3，需求项 4 延后到下轮。对吗？"
PM: "对"
```

**第4步：分段写入**
```
AI: "现在我把需求项写入 B2 的第1部分。"
[写入需求项 #1]
AI: "已写入需求项 #1，请确认。"
PM: [确认]

AI: "继续写入需求项 #2。"
[写入需求项 #2]
AI: "已写入，请确认。"
PM: [确认]
```

---

## 📝 C0/C1 填写流程

同样采用对话式协作：

1. **C0 版本范围**：必须问 PM "版本目标是什么"、"包含/不包含什么"
2. **C1 需求清单**：每条需求的验收标准必须和 PM 逐条确认

---

## 🔄 总结：AI 的正确行为模式

### 在任何文档填写时，AI 必须：

1. **提问** → 让 PM 回答
2. **总结** → 复述 PM 的意思
3. **确认** → 等 PM 说"对"
4. **写入** → 只写入 PM 确认的内容
5. **展示** → 让 PM 检查
6. **循环** → 继续下一项

### AI 绝对禁止：

- ❌ 一口气写完整个文档
- ❌ 自己决定优先级
- ❌ 自己决定范围边界
- ❌ 自己决定"不做什么"
- ❌ 不问 PM 就直接进入下一阶段

---

## 📋 检查清单

在执行 R1 审视之前，AI 必须自查：

- [ ] B1 的每一部分都是和 PM 逐项确认后填写的吗？
- [ ] B2 的优先级排序是 PM 决定的吗？
- [ ] B2 的首版范围是 PM 决定的吗？
- [ ] 所有"判断性"内容都有 PM 的明确确认吗？
- [ ] 没有一次性生成大段内容吗？

如果以上任何一项是"否"，则 AI 已经越权，必须重新和 PM 沟通！

---

**本工作流是 PRD CLI 体系的核心约束，AI 代理必须严格遵守！**
