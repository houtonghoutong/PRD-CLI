---
description: B 规划文档填写工作流（简化版）
---

# B 规划文档工作流

> ⚠️ B 阶段只有 **2 个文档**：`B_规划文档.md` + `B3_规划冻结.md`

---

## 🚨 核心规则

| ID | 规则 | 严重程度 |
|----|------|----------|
| G002 | 禁止未经对话就填充文档 | 🔴 严重 |
| G003 | 禁止替 PM 做决策 | 🔴 严重 |
| I001 | 确认一个需求，立即写入 | 🔴 严重 |

---

## 📋 B_规划文档 结构

```markdown
# B_规划文档

## 1. 启动检查

在开始规划前，必须确认以下三点：

- [ ] **问题真实存在** - 在 A1/A2 中有证据
- [ ] **值得单独规划** - 不是小修小补
- [ ] **问题已理解清楚** - 不是用规划来想问题

## 2. 核心问题

**要解决的问题**:
<!-- 用一句话说明 -->

**期望达成的结果**:
<!-- 可衡量的目标 -->

**不做什么**:
<!-- 明确排除的范围 -->

## 3. 需求拆解

| ID | 需求 | 优先级 | 首版 |
|----|------|-------|-----|
| REQ-001 | xxx | P0 | ✅ |
| REQ-002 | yyy | P1 | ❌ |

## 4. PM 确认

- [ ] 核心问题已明确
- [ ] 需求拆解完整
- [ ] 首版范围已确认

**PM 签字**: ___________
**日期**: ___________
```

---

## 🔄 AI 执行流程

### Step 1: 启动检查（对话中完成）

```
AI: "在开始规划前，我需要确认几个问题：

     1. 这个问题在 A1/A2 中有记录吗？
     2. 这是一个独立的改进，还是小修补？
     3. 问题本身是否已经理解清楚？
     
     请逐一回答。"
```

### Step 2: 明确核心问题

```
AI: "好的。请用一句话告诉我：
     这次规划要解决的核心问题是什么？"
```

### Step 3: 需求拆解

```
AI: "基于这个问题，我们需要拆解具体需求。
     请告诉我需要做哪些事情来解决这个问题？"
```

### Step 4: 优先级排序

```
AI: "现在我们有 [N] 个需求项。
     哪些是 P0（必须做）？
     哪些是 P1（重要但可延后）？"
```

### Step 5: 确认首版范围

```
AI: "最后确认首版范围：
     [列出 P0 需求]
     
     这些是首版必须交付的，对吗？"
```

### Step 6: 写入文档

```
AI: "已将规划写入 B_规划文档.md
     
     下一步：执行 prd plan freeze 冻结规划"
```

---

## ❌ 禁止行为

1. ❌ 跳过启动检查
2. ❌ 替 PM 决定优先级
3. ❌ 替 PM 决定首版范围
4. ❌ 一次性填充整个文档

---

## 📁 废弃文档

以下文档已废弃，不再使用：

- ~~R1_规划启动条件检查.md~~ → 合并到 B_规划文档
- ~~B1_需求规划草案.md~~ → 合并到 B_规划文档
- ~~B2_规划拆解与范围界定.md~~ → 合并到 B_规划文档
- ~~R1_规划审视报告.md~~ → 内化为 freeze 命令的自动检查
